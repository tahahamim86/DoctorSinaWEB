<div class="container">
  <div class="profile-container">

    <!-- Header -->
    <div class="header">
      <!-- Profile Image -->
      <div class="profile-image" style="position: relative;">
        <img [src]="profileImage" alt="Profile Photo">
        <!-- Clickable file input overlay -->
        <input type="file" accept="image/*" (change)="onFileSelected($event)"
               style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer;">
      </div>

      <!-- Profile Info -->
      <div class="profile-info">
        <h2>{{ profileData[0].value || 'N/A' }}</h2>
        <p *ngIf="age !== null">Age: {{ age }}</p>
      </div>
    </div>

    <!-- Profile Fields -->
    <div class="info-grid">
      <div class="info-item" *ngFor="let item of profileData">
        <label style="color: #0b584e">{{ item.label }}</label>

        <ng-container [ngSwitch]="item.key">
          <!-- Gender -->
          <select *ngSwitchCase="'gender'" [(ngModel)]="item.value">
            <option value="" disabled>Select gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
          </select>

          <!-- Birthday -->
          <input *ngSwitchCase="'birthday'" type="date" [(ngModel)]="item.value">

          <!-- Email -->
          <input *ngSwitchCase="'contactInfo'" type="email" [(ngModel)]="item.value">

          <!-- Default -->
          <input *ngSwitchDefault [type]="item.type || 'text'" [(ngModel)]="item.value">
        </ng-container>
      </div>
    </div>

    <!-- Actions -->
    <div class="actions">
      <button type="button" (click)="profileExists ? updateProfile() : createProfile()">
        {{ profileExists ? 'Update Profile' : 'Create Profile' }}
      </button>

      <button *ngIf="profileExists" type="button" (click)="deleteProfile()">Delete Profile</button>
    </div>

  </div>
</div>
